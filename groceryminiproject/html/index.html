<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amino - Organic & Multipurpose</title>
  <link rel="stylesheet" href="../css/index.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,300,0,0" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,200,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,300,0,0" />
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <script src="https://kit.fontawesome.com/9a6a129a21.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,200,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,200,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,200,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,300,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
</head>

<body>
  <header id="header"></header>
  <main>
    <div class="section1"></div>
    <div class="section2">
      <div class="box section2-title">
        <span class="sub-title">Shop By Categories</span>
      </div>
      <div class="products-display">
          <div class="img-ad">
            <div class="box" style="overflow: hidden;">
              <a href="#"><img src="../images/home/banner-01.jpg" alt=""></a> 
              <div class="image-cover"></div>
              <div class="image-cover1"></div>
            </div>
          </div>
          <div class="img-ad">
            <div class="box" style="height:270px;background-image: url('../images/home/milkproducts.jpg');background-position: contain;">
              <div class="image-cover"></div>
              <div class="image-cover1"></div>
            </div>
          </div>
          <div class="img-ad">
            <div class="box" style="height:270px;background-image: url('../images/home/banner-03.jpg');background-repeat: no-repeat;background-position: center;background-size: contain;">
              <div class="image-cover "></div>
              <div class="image-cover1"></div>
            </div>
          </div>
        </div>
        <div class="row customer-support">
            <div class="row">
              <div class="col-3">
                <img src="../images/home/icon-1.png" class="img-fluid" alt="">
              </div>
              <div class="col-9 text-sm-start">
                <p>Free Shipping</p>
                <small class="text-white">On all orders over $75.00</small>
              </div>
            </div>
            <div class="row">
              <div class="image">
                <img src="../images/home/icon-2.png" class="img-fluid" alt="">
              </div>
              <div class="">
                <p>Free Returns</p>
                <small>Returns are free within 9 days</small>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <img src="../images/home/icon-3.png" class="img-fluid" alt="">
              </div>
              <div class="col">
                <p>100% Secure Payment</p>
                <small >Your payment are safe with us.</small>
              </div>
            </div>
            <div class="row">
              <div class="col-3">
                <img src="../images/home/icon-4.png" class="img-fluid" alt="">
              </div>
              <div class="col-9 text-sm-start">
                <p>Support 24/7</p>
                <small class="text-white">Contact us 24hrs a day</small>
              </div>
            </div>
        </div>
    </div>
    <div class="section3">
      <p class="sub-title" style="text-align: center;">Natural Product</p>
      <div class="row" style="width: 100%;">
        <h1 class="title" style="background-color: #83bc2eaf;">Save 40% Off</h1>
        <p style="font-size: 22px;font-weight: 700;background-color: #83bc2eaf;">Always fresh and delicious.100% Organic</p>
        <div class="countdown">
          <div class="single-countdown">
              <div class="text-center">611</div>
              <div class="text-center">days</div>
          </div>
          <span class="material-symbols-outlined">
            go_to_line
            </span>
          <div class="single-countdown">
              <div class="text-center">07</div>
              <div class="text-center">hrs</div>
          </div>
          <span class="material-symbols-outlined">
            go_to_line
            </span>
          <div class="single-countdown ms-2">
              <div class="text-center">48</div>
              <div class="text-center">mins</div>
          </div>
          <span class="material-symbols-outlined">
            go_to_line
            </span>
          <div class="single-countdown ms-2">
              <div class="text-center">12</div>
              <div class="text-center">secs</div>
          </div>
        </div>
        <div class="countdown-btn">
            <a href="#" class="btn" style="border-radius: 25px;font-weight:600;padding: 8px 18px;">SHOP NOW</a>
        </div>
      </div>
    </div>
    <div class="section4">
        <div class="box section-title">
          <p class="sub-title">What They Say</p>
          <h1 class="title">Client Tesimonials</h1>
        </div>
        <div class="row">
          <div class="col">
            <div class="box testimonial1">
              <h4 class="name1">Orlando Bloom</h4>
              <p class="fst">All Perfect !! I have three sites with magento , this theme is the best !! Excellent support , advice theme installation package , sorry for English, are Italian but I had no problem !! Thank you !</p>
              <span class="test-email">aminoproducts@gmail.com</span>
            </div>
          </div>
          <div class="col">
            <div class="box testimonial1 ">
              <h4 class="name1">Orlando Bloom</h4>
              <p class="fst">All Perfect !! I have three sites with magento , this theme is the best !! Excellent support , advice theme installation package , sorry for English, are Italian but I had no problem !! Thank you !</p>
              <span class="test-email">aminoproducts@gmail.com</span>
            </div>
          </div>
          <div class="col">
            <div class="box testimonial1">
              <h4 class="name1">Orlando Bloom</h4>
              <p class="fst">All Perfect !! I have three sites with magento , this theme is the best !! Excellent support , advice theme installation package , sorry for English, are Italian but I had no problem !! Thank you !</p>
              <span class="test-email">aminoproducts@gmail.com</span>
            </div>
          </div>
        </div>
    </div>
    <div class="section5">
      <div class="box section-title">
        <p class="sub-title">See Our Latest</p>
        <h1 class="title">OUR PRODUCTS</h1>
      </div>
      <div class="filters">
        <div id="price">
          <span style="font-weight: 700;">Additional Filters : </span>
          <input type="radio" name="pricesort" id="ltoh" value="asc" onchange="sortByPrice(this)"> Low to High &nbsp;
          <input type="radio" name="pricesort" id="htol" value="desc" onchange="sortByPrice(this)"> High to Low &nbsp;
          <input type="radio" name="pricesort" id="remove" value="removefilter" onchange="removeAllFilter(this)"> Remove All Filters
        </div>
        <select id="filter" onchange="applyFilter(this)">
          <optgroup label="Company Name">
            <option value="amul">Amul</option>
            <option value="real">Real</option>
            <option value="paperboat">Paper Boat</option>
            <option value="rawjuice">raw Juice</option>
          </optgroup>
          <optgroup label="Product Name">
            <option value="milk">Milk</option>
            <option value="ghee">Ghee</option>
            <option value="paneer">Paneer</option>
            <option value="mixedfruitjuice">Mixed Fruit Juice</option>
          </optgroup>
        </select>
      </div>
      <div class="products">
        <div class="row">
          
        </div>
      </div>
    </div>
  </main>
  <footer id="footer"></footer>
  <script src="../js/compnentadd.js"></script>
  <script>
    let products;
    let selectValue;
    let priceSort;
    let originalProducts;
    let removefilter ;
    const fetchProducts = async () => {
        try {
            const response = await fetch('../products.json');
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            products = await response.json();
            originalProducts = products;
        } catch (error) {
            console.error('There was a problem with the fetch operation:', error);
        }
    };

    const displayProducts = async () => {
        await fetchProducts();
        
        const productsRow = document.querySelector(".products .row");

        productsRow.innerHTML = '';

        let filteredProducts = products;

        if (selectValue) {
        filteredProducts = products.filter(product => {
          const normalizedProductName = product.productName.split(" ").join("").toLowerCase();
          return product.companyName.toLowerCase() === selectValue || normalizedProductName === selectValue;
        });
      } 
        // Sort products based on priceSort
        if (priceSort) {
          filteredProducts.sort((a, b) => {
              // Ensure price is converted to a number before comparison
              const priceA = parseFloat(a.price.replace(/[^0-9.-]+/g, ""));
              const priceB = parseFloat(b.price.replace(/[^0-9.-]+/g, ""));
              
              if (priceSort === 'asc') {
                  return priceA - priceB;
              } else if (priceSort === 'desc') {
                  return priceB - priceA;
              }return 0;

          });
        }
        if(removefilter){
          console.log("hel");
          selectValue = "";
          priceSort = "";
          console.log(originalProducts)
          filteredProducts = originalProducts;
        }
        // Display filtered and sorted products
        filteredProducts.forEach((value) => {
            const productDiv = document.createElement('div');
            productDiv.classList.add('col');
            productDiv.id = value.id;
            productDiv.innerHTML = `
                <div class="card">
                    <div class="image-box">
                        <div class="card-new-label" style="background-color: red;">30%</div>
                        <img src="${value.img1src}" class="card-img-top" alt="...">
                        <div class="image-icon">
                            <div class="card-new-label" style="background-color: red;">30%</div>
                            <img src="${value.img2src}" class="card-img-top" alt="...">
                            <div class="row img-icon-row">
                                <div class="col-3">
                                    <div class="box">
                                        <a href="#" id="favourite"><span class="material-symbols-outlined">favorite</span></a>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="box">
                                        <a href="#" id="autorenew"><span class="material-symbols-outlined">autorenew</span></a>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="box">
                                        <a href="#" id="search1"><span class="material-symbols-outlined">search</span></a>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="box">
                                        <a href="#" id="shopping1"><span class="material-symbols-outlined">shopping_bag</span></a>
                                    </div>
                                </div>
                            </div>
                        </div> 
                    </div>
                    <div class="card-body">
                        <p class="card-text" style="font-weight: 700;">${value.productName} (${value.Quantity})</p>
                        <p style="color:#83BC2E;font-size: 16px;font-weight: 700;">
                            <span class="text-muted" style="font-size:14px!important;">Rs. ${value.price}</span>
                        </p>
                    </div>
                </div>
            `;

            productsRow.appendChild(productDiv);
        });
    };

    // Example function to handle filter input changes
    function applyFilter(input) {
        selectValue = input.value;
        displayProducts();  // Call to update product display with new filter
    }

    // Example function to handle sort input changes
    function sortByPrice(input) {
        priceSort = input.value;// Debugging line
        displayProducts();  // Call to update product display with new sort order
    }

    function removeAllFilter() {
      selectValue = "";
        priceSort = "";
      displayProducts();
    }
    // Initial call to display products (if you want to display all products initially)
    displayProducts();
</script>

</body>

</html>